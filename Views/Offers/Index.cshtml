@model PagedList.IPagedList<PROJEKT_PZ_NK_v3.Models.Offer>
@using PagedList.Mvc;
<link href="~/Content/PagedList.css" rel="stylesheet" type="text/css" />

@{
    ViewBag.Title = "Index";
}
<div class="well">
    <h2>Wszystkie oferty</h2>

    <div class="row">
        <div class="col-4 well">
            @using (Html.BeginForm("Index", "Offers", FormMethod.Get))
            {
                <p style="height:15px">
                    @Html.TextBox("SearchString", ViewBag.CurrentFilter as string, new { placeholder = "Szukany tytuł", style = "height:32px" })
                    <input type="submit" class="btn btn-primary" value="Szukaj" />
                </p>
            }
        </div>
        <div class="col-2 well">
            <div class="dropdown">

                <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
                    Sortuj po..
                </button>
                <ul class="dropdown-menu">
                    <li>@Html.ActionLink("tytule", "Index", "Offers", new { sortOrder = ViewBag.TitleSortParm, currentFilter = ViewBag.CurrentFilter }, null)</li>
                    <li>@Html.ActionLink("dacie rozpoczęcia oferty", "Index", "Offers", new { sortOrder = ViewBag.DateSortParm, currentFilter = ViewBag.CurrentFilter }, null)</li>
                </ul>
            </div>
        </div>
    </div>
</div>
<br />
<br />


    <div class="container row">
        @foreach (var item in Model)
        {

            <div class="card col-4 list-group-item-heading" style="width:400px">
                <a  href="@Url.Action("Details", "Offers", new { id = item.ID })">
                    <img class="card-img-top" src="~/ImagesAnimals/@item.Animal.Image"
                         alt="Card image" style="height:100%">
                </a>
                <div class="card-body">
                    <h4 class="card-title">@item.Title</h4>
                    <p class="card-text">@item.StartingDate.ToString("yyyy-MM-dd HH:mm")- @item.EndDate.ToString("yyyy-MM-dd HH:mm")</p>
                    <p class="card-text">
                        Animal: @Html.ActionLink(item.Animal.Name,
                "Details", "Animals", new { id = item.Animal.ID }, null)
                    </p>
                    <p class="card-text">
                        Owner: @Html.ActionLink(item.Profile.Login,
                 "DetailsAnotherProfile", "Profiles", new { id = item.Profile.ID }, null)
                    </p>
                    <p class="text-right btn-block">@Html.ActionLink("Więcej informacji", "Details", "Offers", new { id = item.ID }, null) </p>
                </div>
            </div>
        }
    </div>

    <br />
    Strona @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) z @Model.PageCount

    @Html.PagedListPager(Model, page => Url.Action("Index",
        new { page, sortOrder = ViewBag.CurrentSort, currentFilter = ViewBag.CurrentFilter }))



